
---

version: '1.0'
metadata:
  name: Sheet
  authors:
  - name: 'Jeff Wise'
description:
  overview: |+
    The sheet is a core data structure of Tome. It provides the visual and interactive 
    elements for most game components. A sheet may be used to represent a player 
    character, a monster, a non-player character, a village, a dungeon, etc... A sheet 
    doesn't have to be a game entity, it could also just be a useful interface. For example, 
    if one group enjoys role-playing without using the app very much, they may still want 
    to use a sheet for one or two important tasks, such as tracking hit points.

    The main elements of a sheet are the layout, the widgets, and the theme. The layout 
    consists of sections, pages, groups, and rows. These allow you to arrange your data 
    in whatever way is most appropriate to what you want to show. The layout engine is 
    integrated into the mobile app using material design, such that sections are buttons 
    on the bottom navigation menu and pages are tabs below the toolbar. Properly designed 
    sheets will look and feel just like native apps on the mobile applications.

    There are many widgets available to represent both static and dynamic data. You 
    could build a sheet that is mostly read-only, or you can build a sheet that is 
    fully immersive where everything is calculated and automatically updated. Many widgets 
    also exist not just to display the data, but to allow you to convey atmosphere and 
    personality in your interfaces. This allows you to arrange and manipulate your 
    data in creative ways that match with the content of the data itself. 

    Themes are built into every sheet component. They allow you to customize the colors 
    depending on which theme is currently selected. The mobile application comes with 
    a light and a dark default theme. Themes also allow you to modify the colors of 
    native UI components in the mobile application, so that your sheet really feels like 
    its own native app.

    A sheet also has a state, which is a collection of variables. These are the underlying 
    data elements that may change over time and be updated by a user. Some variables are 
    specific to a sheet and are defined with the sheet. Other variables may come from 
    elements in the Game or Campaign context. These variables are only *defined* in the 
    Game or Campaign, but do not exist. Games and Campaigns are abstract components. A sheet 
    represents a real entity with data that may persist and change over time. Once a 
    variable is brought into a sheet, then it is real.

    A sheet is meant to be used and interacted with. Many other data structures in the Tome 
    platform are abstract. It is only when they are instantiated as a part of a sheet 
    do they become real. For example, value sets are part of the Engine definition, but 
    a value set does not actually exist until it is used in a sheet. Then a user can 
    see the values and assign a value to a variable. The value set may be used when 
    it is part of a sheet, but otherwise it is just an abstract collection of values. 

    Sheets exist at the bottom of the Tome hierarchy. A sheet belongs to a Campaign, and 
    a Campaign belongs to a Game. Therefore, sheets inherit both the properties of its 
    parent Game and its parent Campaign. Campaigns allow similar sheets to be used in 
    different settings while Games define most of the mechanics that a sheet is 
    expected to obey.
root_type: sheet
types:
- type: product_type
  product_type:
    name: sheet  
    label: Sheet
    description: |+
      A sheet represents a set of data that may be persisted and changed. The data elements 
      are reprsented by a multitude of programmable widgets which are arranged in a 
      customizable layout. Sheets are used to represent the primary entites in the Tome 
      platform such as characters, monsters, and adventures.
    group: Sheet
    fields:
    - name: id
      type: 
        type: custom_type
        custom_type: sheet_id
      presence: required
      description: >
        The sheet's unique identifier. Must be alphanumeric with underscores. It is 
        used to reference the sheet from other contexts and is usually just the name 
        of the sheet, modified to match the character requirements.
    - name: campaign_id
      type: 
        type: custom_type
        custom_type: campaign_id
      presence: required
      description: >
        The unique identifier of the parent campaign. The campaign knows its parent 
        game identifier, so the sheet knows about its game from the campaign.
    - name: sections
      type: 
        type: custom_coll_type
        custom_coll_type: section
      presence: required
      description: >
        The sheet sections. Sections are the top-level user interface component 
        of sheets. Simple sheets may only have one, but complex sheets could have many, 
        although there is a maximum of 5 on mobile. On mobile, sections are represented 
        by the bottom navigation menu.
    - name: engine
      type: 
        type: custom_type
        custom_type: engine
      presence: required
      description: >
        Game rules and data specific to this sheet.
    - name: variables
      type: 
        type: custom_coll_type
        custom_coll_type: variable
      presence: optional
      description: >
        The collection of variables that represent the sheet's unique data.
    - name: settings
      type: 
        type: custom_type
        custom_type: settings
      presence: optional
      description: >
        Micellaneous sheet settings such as themes. If not present, a default settings 
        is provided and will work fine in most cases.
    code_examples:
    - language: YAML
      title: 'A Basic Sheet.'
      description: >
        A basic sheet that uses the dark theme, has one variable that stores the charcter's 
        name, and one text widget that displays the character name.
      code: |+
        id: my_sheet
        campaign_id: my_campaign
        settings:
          theme_id: dark
        variables:
        - type: variable_text
          variable_text:
            id: name
            label: Name
            description: Name
            value:
              type: text_literal
              text_literal: My Character's Name
        sections:
        - name: main_section
          pages:
          - name: main_page
            groups:
              rows:
              - widgets:
                - type: widget_text
                  widget_text:
                    id: name
                    value_variable_id: name
- type: primitive_type
  primitive_type:
    name: sheet_id
    label: sheet_id
    description: >
      The unique sheet identifier. It is used to reference the sheet from other contexts.
    group: Sheet
    base_type: 
      type: prim_type
      prim_type: string
- type: product_type
  product_type:
    name: settings
    label: Settings
    description: >
      The sheet settings.
    group: Settings
    type: product
    fields:
    - name: theme_id
      type: 
        type: custom_type
        custom_type: theme_id
      presence: optional
      description: >
        The type of theme for the sheet.
    - name: sheet_name
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: >
        The sheet name.
    - name: sheet_summary
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: >
        The sheet summary.
- type: primitive_type
  primitive_type:
    name: theme_id
    label: theme_id
    description: >
      The unique theme identifier, used commonly to reference a theme.
    group: Theme
    base_type:
      type: prim_type
      prim_type: string
- type: primitive_type
  primitive_type:
    name: custom_theme_name
    label: Custom Theme Name
    description: >
      The name of a custom theme. It can be anything you want. It is intended for
      identifying the theme in the user interface.
    group: Theme
    base_type:
      type: prim_type
      prim_type: string
- type: product_type
  product_type:
    name: section
    label: Section
    description: |+
      Sections are the largest layout components on a sheet. Simple sheets may only have 
      one section while complex sheets could have five, ten, or more. It all depends on 
      the use case and how the user wants to organize the sheet. There is no specific rule 
      as to what a section should represent. It is also completely up to the user. Since 
      sectons are the largest layout element, they usually represent the "biggest concept" 
      in the sheet. 
      
      #### In the Mobile Application
      In the mobile application, there is a limit of 5 sections, because they are displayed
      in the bottom navigation menu, and there is only so much space available on the screens 
      of mobile devices.
      
      Sometimes the sheet is simple enough that one only needs a few widgets, in which case 
      no sections are needed, because a section would not represent anything. Currently there 
      is no way to disable showing the bottom navigation in the mobile app in 
      the case that no sections are necessary. That may be possible in the future.

      <figure>
        <img width="350px" src="/static/svg/layout-section.svg">
        <figcaption>
          Sections on mobile are managed by the bottom navigation menu tabs.
        </figcaption>
      </figure>
    group: Section
    fields:
    - name: name
      type: 
        type: custom_type
        custom_type: section_name
      presence: required
      description: >
        The section name. This value is used to reference the section from other 
        data structures. It should be alphanumeric with underscores.
    - name: pages
      type:
        type: custom_coll_type
        custom_coll_type: page
      presence: optional
      description: >
        The section's pages. The pages are the main organizational structure of a 
        section. They break the sheet data into managable units.

        On mobile pages the pages are represented as tabs below the toolbar. There is 
        currently no limit on the number of pages although too many pages may 
        impact usability. Page data is loaded dynamically for the current page and 
        the page before and after, so there should not be any performance issues with 
        many tabs.
    - name: icon
      type:
        type: custom_type
        custom_type: icon_type
      presence: required
      description: >
        The icon that is displayed on mobile in the bottom navigation tab that 
        represents the section.
    code_examples:
    - language: YAML
      title: 'A Basic Section.'
      description: >
        A basic section with one page that holds a text widget.
      code: |+
        name: main_section
        pages:
        - name: main_page
          groups:
            rows:
            - widgets:
              - type: widget_text
                widget_text:
                  id: name
                  value_variable_id: name
- type: primitive_type
  primitive_type:
    name: section_name
    label: Section Name
    description: >
      The name of a section. Used to reference the section from other data structures.
    group: Section
    base_type:
      type: prim_type
      prim_type: string
- type: product_type
  product_type:
    name: page
    label: Page
    description: |+
      Pages are the primary way of grouping data in a sheet.

      #### In the Mobile Application
      
      Pages are represented using tabs at the top of the screen below the toolbar. 
      There is currently no limit on the number of pages although too many pages may 
      impact usability. Page data is loaded dynamically for the current page and 
      the page before and after, so there should not be any performance issues with 
      many tabs.

      <figure>
        <img width="350px" src="/static/svg/layout-page.svg">
        <figcaption>
          Pages are represented with tabs in the mobile application.
        </figcaption>
      </figure>
    group: Page
    fields:
    - name: name
      type: 
        type: prim_type
        prim_type: string
      presence: required
      description: >
        The name of the page. Used to reference the page from other data structures.
        Must be alphanumeric with underscores.
    - name: format
      type:
        type: custom_type
        custom_type: page_format
      presence: optional
      description: >
        The page formatting options. If no value is given, then the default page format 
        will be applied. 
    - name: groups
      type:
        type: custom_coll_type
        custom_coll_type: group
      presence: required
      description: >
        The page's groups. Groups are the primary layout element of a page. They 
        represent vertical segments of a page. 

        In the mobile application there is no set limit to the number of groups in a 
        page, but too many groups will force the user to scroll a lot. If it's a story, 
        then this may be appropriate, but in many cases, you may want to break the groups 
        up into separate pages, so the user can tab through the data horizontally.
    code_examples:
    - language: YAML
      title: 'A Basic Page.'
      description: >
        A basic page with one group that holds a text widget.
      code: |+
        name: main_page
        groups:
          rows:
          - widgets:
            - type: widget_text
              widget_text:
                id: name
                value_variable_id: name
- type: product_type
  product_type:
    name: page_format
    label: Page Format
    description: |+
      The page formatting options.
    group: Page
    type: product
    fields:
    - name: element_format
      type:
        type: custom_type
        custom_type: element_format
      presence: optional
      description: >
        The element format.
- type: primitive_type
  primitive_type:
    name: group_set_id
    label: Group Set Id
    description: A group set identifier.
    group: Group
    base_type:
      type: prim_type
      prim_type: string
- type: primitive_type
  primitive_type:
    name: group_id
    label: Group Id
    description: A group identifier.
    group: Group
    base_type:
      type: prim_type
      prim_type: string
- type: product_type
  product_type:
    name: group
    label: Group
    description: |+
      Groups are the primary layout elements of a page. They help to break up the page 
      into logical sections and to arrange similar widgets together.

      #### In the Mobile Application
      
      In the mobile application groups are vertical segments of a page. There is no set 
      limit to the number of groups in a page, but too many groups will force the user 
      to scroll a lot. If it's a story, then this may be appropriate, but in many cases 
      you may want to break the groups up into separate pages, so the user can tab 
      through the data horizontally.

      <figure>
        <img width="350px" src="/static/svg/layout-group.svg">
        <figcaption>
          Groups in relation to the other layout elements. A group is the largest element of 
          a page and contains group rows. 
        </figcaption>
      </figure>
    group: Group
    fields:
    - name: id
      type: 
        type: custom_type
        custom_type: group_id
      presence: optional
      description: The group id.
    - name: name
      type: 
        type: prim_type
        prim_type: string
      presence: optional
      description: The name.
    - name: summary
      type: 
        type: prim_type
        prim_type: string
      presence: optional
      description: The summary.
    - name: context
      type: 
        type: prim_type
        prim_type: string
      presence: optional
      description: The summary.
    - name: format
      type: 
        type: custom_type
        custom_type: group_format
      presence: optional
      description: >
        The group formatting options. If no value is given, then the default options 
        will be used.
    - name: tags
      type: 
        type: custom_coll_type
        custom_coll_type: tag
      presence: optional
      description: Tags
    - name: trigger
      type: 
        type: custom_type
        custom_type: trigger
      presence: optional
      description: An optional trigger.
    - name: rows
      type: 
        type: custom_coll_type
        custom_coll_type: group_row
      presence: required
      description: >
        The rows in the group. Rows were created primary to help make formatting and 
        designing the layout more flexible. 

        In the mobile application there is no set limit to the number of rows in a 
        group, but it doesn't usually make sense to have too many. It is better to 
        use groups as the primary layout element when possible.
    code_examples:
    - language: YAML
      title: 'A Basic Group.'
      description: >
        A basic group with some top padding that has one row with a text widget.
      code: |+
        format:
          padding:
            top: 10
        rows:
        - widgets:
          - type: widget_text
            widget_text:
              id: name
              value_variable_id: name
    - language: Kotlin
      title: 'A simple Group.'
      code: |+
        function
- type: product_type
  product_type:
    name: group_format
    label: Group Format
    description: >
      The group formatting options.
    group: Group
    fields:
    - name: element_format
      type: 
        type: custom_type
        custom_type: element_format
      presence: optional
      description: >
        The element_format.
    - name: border
      type: 
        type: custom_type
        custom_type: border
      presence: optional
      description: A border.
- type: sum_type
  sum_type:
    name: group_reference
    label: Group Reference
    description: A group reference.
    group: Group
    cases:
    - type: group_set_id
      description: Group Set Id
    - type: group_id
      description: Group Id
    - type: group
      description: Group
- type: product_type
  product_type:
    name: group_set
    label: Group Set
    description: |+
      Group set.
    group: Group
    fields:
    - name: id
      type:
        type: custom_type
        custom_type: group_set_id
      presence: required
      description: Id.
    - name: group_ids
      type:
        type: custom_coll_type
        custom_coll_type: group_id
      presence: required
      description: Group ids.
- type: product_type
  product_type:
    name: group_row
    label: Group Row
    description: |+
      A group row is a row within a group. It is used primarily to help with formatting 
      and desiging layouts by adding another layer of grouping. The group rows contain 
      the widgtes.

      #### In the Mobile Application
      
      A group row is the direct child layout element within a group. By default a row 
      fills the the full width of its parent group, and the group usually stretches the 
      full width of the device's screen, so rows typically represent vertical segments 
      of the screen, though they are usually nested visually inside the group.
      
      There is no set limit to the number of rows in a group, but it doesn't usually 
      make sense to have too many. It is better to use groups as the primary layout 
      element when possible.
      
      <figure>
        <img width="350px" src="/static/svg/layout-group-row.svg">
        <figcaption>
          Group rows are just vertical segments inside a group. Sometimes they are 
          very useful and sometimes they just match the space of the parent group.
        </figcaption>
      </figure>
    group: Group Row
    fields:
    - name: format
      type:
        type: custom_type
        custom_type: group_row_format
      presence: optional
      description: >
        The group row formatting options. If no value is given, the default formatting 
        options are used.
    - name: widgets
      type:
        type: custom_coll_type
        custom_coll_type: widget
      presence: required
      description:
        The widgets in the group row.

        The widgets are displayed horizontally in the row so while there is no exact 
        limit on the number of widgets in the row, there will only be so much space 
        available, especially on mobile.
    code_examples:
    - language: YAML
      title: 'A Basic Group Row.'
      description: >
        A basic group row with a text widget and a left / right margin.
      code: |+
        format:
          margins:
            left: 5
            right: 5
        widgets:
        - type: widget_text
          widget_text:
            id: name
            value_variable_id: name
- type: product_type
  product_type:
    name: group_row_format
    label: Group Row Format
    description: >
      The group row formatting options.
    group: Group Row
    type: product
    fields:
    - name: element_format
      type:
        type: custom_type
        custom_type: element_format
      presence: optional
      description: >
        The element format.
    - name: has_columns
      type:
        type: prim_type
        prim_type: boolean
      presence: optional
      description: Has columns?
    - name: border
      type:
        type: custom_type
        custom_type: border
      presence: optional
      description: The border.
- type: sum_type
  sum_type:
    name: widget
    label: Widget
    description: |+
      Widgets are the primary user interface elements. They represent data in a unique way. 
      Some widgets are relatively static while others may be fully interactive.

      Widgets are contained inside [Group Rows](/#group-row).

      #### In the Mobile Application
      
      <figure>
        <img width="350px" src="/static/svg/layout-widget.svg">
        <figcaption>
          Widgets display the data on a sheet.
        </figcaption>
      </figure>
    group: Widget
    cases:
    - type: widget_action
      description: >
        Action Widget
    - type: widget_boolean
      description: >
        Boolean Widget
    - type: widget_expander
      description: >
        Expander Widget
    - type: widget_group
      description: >
        Group Widget
    - type: widget_image
      description: >
        Image Widget
    - type: widget_list
      description: >
        List Widget
    - type: widget_log
      description: >
        Log Widget
    - type: widget_mechanic
      description: >
        Mechanic Widget
    - type: widget_number
      description: >
        Number Widget
    - type: widget_option
      description: >
        Option Widget
    - type: widget_points
      description: >
        Points Widget
    - type: widget_quote
      description: >
        Quote Widget
    - type: widget_roll
      description: >
        Roll Widget
    - type: widget_slider
      description: >
        Slider Widget
    - type: widget_story
      description: >
        Story Widget
    - type: widget_tab
      description: >
        Tab Widget
    - type: widget_table
      description: >
        Table Widget
    - type: widget_text
      description: >
        Text Widget
- type: primitive_type
  primitive_type:
    name: widget_id
    label: Widget Identifier
    description: >
      The unique identifier of a widget.
    group: Widget
    base_type:
      type: prim_type
      prim_type: string
- type: product_type
  product_type:
    name: widget_action
    label: Action Widget
    description: Action Widget
    group: 'Widget: Action'
    fields:
    - name: id
      type: 
        type: custom_type
        custom_type: widget_id
      presence: optional
      description: >
        The widget identifier.
    - name: format
      type:
        type: custom_type
        custom_type: action_widget_format
      presence: optional
      description: >
        The roll widget formatting options.
    - name: procedure_id
      type:
        type: custom_type
        custom_type: procedure_id
      presence: required
      description: The roll summation id.
    - name: active_variable_id
      type:
        type: custom_type
        custom_type: variable_id
      presence: optional
      description: The roll summation id.
    - name: description
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: A description of the roll.
- type: product_type
  product_type:
    name: action_widget_format
    label: Action Widget Format
    description: >
      Action Widget formatting options.
    group: 'Widget: Action'
    fields:
    - name: widget_format
      type: 
        type: custom_type
        custom_type: widget_format
      presence: optional
      description: Standard widget formatting options.
    - name: view_type
      type: 
        type: prim_type
        prim_type: string
      presence: optional
      description: The view type.
    - name: button_format
      type: 
        type: custom_type
        custom_type: text_format
      presence: optional
      description: The button format.
    - name: button_inactive_format
      type: 
        type: custom_type
        custom_type: text_format
      presence: optional
      description: The description format.
    - name: description_format
      type: 
        type: custom_type
        custom_type: text_format
      presence: optional
      description: The description format.
    - name: description_inactive_format
      type: 
        type: custom_type
        custom_type: text_format
      presence: optional
      description: The description format.
    - name: button_icon
      type: 
        type: custom_type
        custom_type: icon_type
      presence: optional
      description: The description format.
- type: product_type
  product_type:
    name: widget_boolean
    label: Boolean Widget
    description: >
      Boolean Widget
    group: 'Widget: Boolean'
    type: product
    fields:
    - name: id
      type: 
        type: custom_type
        custom_type: widget_id
      presence: optional
      description: >
        The widget identifier.
    - name: format
      type:
        type: custom_type
        custom_type: boolean_widget_format
      presence: optional
      description: >
        The boolean widget formatting options.
    - name: value_variables_reference
      type:
        type: custom_type
        custom_type: variable_reference
      presence: required
      description: >
        The widget value.
- type: product_type
  product_type:
    name: boolean_widget_format
    label: Boolean Widget Format
    description: >
      Boolean Widget formatting options.
    group: 'Widget: Boolean'
    fields:
    - name: widget_format
      type: 
        type: custom_type
        custom_type: widget_format
      presence: optional
      description: >
        The standard widget formatting options.
    - name: text_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: >
        The text style.
    - name: view_type
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: The view type.
    - name: true_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: >
        The text style.
    - name: false_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: >
        The text style.
    - name: left_toggle_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: Left toggle format.
    - name: right_toggle_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: Right toggle format.
    - name: true_text
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: The true label.
    - name: false_text
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: The false label.
    - name: true_icon
      type:
        type: custom_type
        custom_type: icon
      presence: optional
      description: The true icon.
    - name: false_icon
      type:
        type: custom_type
        custom_type: icon
      presence: optional
      description: The false icon.
- type: product_type
  product_type:
    name: widget_expander
    label: Expander Widget
    description: >
      Expander Widget
    group: 'Widget: Expander'
    fields:
    - name: id
      type: 
        type: custom_type
        custom_type: widget_id
      presence: optional
      description: >
        The widget identifier.
    - name: format
      type:
        type: custom_type
        custom_type: expander_widget_format
      presence: optional
      description: >
        The expander widget formatting options.
    - name: label
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: >
        The expander widget formatting options.
    - name: groups
      type:
        type: custom_coll_type
        custom_coll_type: group
      presence: required
      description: >
        The groups.
    - name: book_reference
      type:
        type: custom_type
        custom_type: book_reference
      presence: optional
      description: Book reference.
- type: product_type
  product_type:
    name: expander_widget_format
    label: Expander Widget Format
    description: >
      Expander Widget formatting options.
    group: 'Widget: Expander'
    fields:
    - name: widget_format
      type: 
        type: custom_type
        custom_type: widget_format
      presence: optional
      description: >
        Standard widget formatting options.
    - name: view_type
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: The view type.
    - name: header_open_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: Text format
    - name: header_closed_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: Text format
    - name: header_label_open_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: Text format
    - name: header_label_closed_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: Text format
    - name: header_open_icon
      type:
        type: custom_type
        custom_type: icon
      presence: optional
      description: Text format
    - name: header_closed_icon
      type:
        type: custom_type
        custom_type: icon
      presence: optional
      description: Text format
- type: product_type
  product_type:
    name: widget_group
    label: Group Widget
    description: >
      Group Widget
    group: 'Widget: Group'
    fields:
    - name: id
      type: 
        type: custom_type
        custom_type: widget_id
      presence: optional
      description: >
        The widget identifier.
    - name: format
      type:
        type: custom_type
        custom_type: group_widget_format
      presence: optional
      description: >
        The expander widget formatting options.
    - name: group_references
      type:
        type: custom_coll_type
        custom_coll_type: group_reference
      presence: required
      description: Group references.
    - name: title_variable_id
      type:
        type: custom_type
        custom_type: variable_id
      presence: optional
      description: The title variable id.
    - name: group_query
      type: 
        type: custom_type
        custom_type: tag_query
      presence: optional
      description: Group query.
- type: product_type
  product_type:
    name: group_widget_format
    label: Group Widget Format
    description: >
      Group Widget formatting options.
    group: 'Widget: Group'
    fields:
    - name: widget_format
      type: 
        type: custom_type
        custom_type: widget_format
      presence: optional
      description: >
        Standard widget formatting options.
    - name: view_type
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: The view type.
    - name: title_bar_format
      type:
        type: custom_type
        custom_type: element_format
      presence: optional
      description: The title bar format.
    - name: title_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: The title bar format.
    - name: edit_button_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: The title bar format.
    - name: groups_format
      type:
        type: custom_type
        custom_type: element_format
      presence: optional
      description: The groups format.
- type: product_type
  product_type:
    name: widget_image
    label: Image Widget
    description: >
      Image Widget
    group: 'Widget: Image'
    fields:
    - name: id
      type: 
        type: custom_type
        custom_type: widget_id
      presence: optional
      description: >
        The widget identifier.
    - name: format
      type: 
        type: custom_type
        custom_type: image_widget_format
      presence: optional
      description: Image format.
    - name: icon
      type: 
        type: custom_type
        custom_type: icon
      presence: optional
      description: Icon
    - name: official_images
      type: 
        type: prim_coll_type
        prim_coll_type: string
      presence: optional
      description: Image format.
- type: product_type
  product_type:
    name: image_widget_format
    label: Image Widget Format
    description: >
      Image Widget formatting options.
    group: 'Widget: Image'
    fields:
    - name: widget_format
      type: 
        type: custom_type
        custom_type: widget_format
      presence: optional
      description: Widget format.
- type: product_type
  product_type:
    name: widget_list
    label: List Wiget
    description: >
      List Widget
    group: 'Widget: List'
    fields:
    - name: id
      type: 
        type: custom_type
        custom_type: widget_id
      presence: optional
      description: >
        The widget identifier.
    - name: format
      type: 
        type: custom_type
        custom_type: list_widget_format
      presence: optional
      description: >
        The list widget formatting options.
    - name: values_variable_id
      type:
        type: custom_type
        custom_type: variable_id
      presence: required
      description: >
        The values in the list.
    - name: title_variable_id
      type:
        type: custom_type
        custom_type: variable_id
      presence: optional
      description: Title variable id.
    - name: description
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: The description.
    - name: book_reference
      type:
        type: custom_type
        custom_type: book_reference
      presence: optional
      description: Book reference.
- type: product_type
  product_type:
    name: list_widget_format
    label: List Widget Format
    description: >
      List Widget formatting options.
    group: 'Widget: List'
    fields:
    - name: widget_format
      type: 
        type: custom_type
        custom_type: widget_format
      presence: optional
      description: >
        Standard widget formatting options.
    - name: view_type
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: The list widget view type.
    - name: list_format
      type:
        type: custom_type
        custom_type: element_format
      presence: optional
      description: The values format.
    - name: item_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: The values format.
    - name: item_inactive_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: The values format.
    - name: default_item_text
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: The default item text.
    - name: description_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: The description format.
    - name: title_bar_format
      type:
        type: custom_type
        custom_type: element_format
      presence: optional
      description: The title bar format.
    - name: title_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: The title bar format.
    - name: edit_button_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: The title bar format.
    - name: constraint_format
      type:
        type: custom_type
        custom_type: list_widget_constraint_format
      presence: optional
      description: The title bar format.
- type: product_type
  product_type:
    name: list_widget_constraint_format
    label: List Widget
    description: List widget constraint formatting options.
    group: 'Widget: List'
    fields:
    - name: text_format
      type: 
        type: custom_type
        custom_type: text_format
      presence: optional
      description: Text format.
    - name: fail_text_format
      type: 
        type: custom_type
        custom_type: text_format
      presence: optional
      description: Text format.
    - name: message
      type: 
        type: custom_type
        custom_type: message
      presence: optional
      description: Message.
- type: product_type
  product_type:
    name: widget_log
    label: Log Widget
    description: >
      Log Widget
    group: 'Widget: Log'
    fields:
    - name: id
      type: 
        type: custom_type
        custom_type: widget_id
      presence: optional
      description: >
        The widget identifier.
    - name: format
      type: 
        type: custom_type
        custom_type: log_widget_format
      presence: optional
      description: >
        The log widget formatting options.
    - name: entries
      type:
        type: custom_coll_type
        custom_coll_type: log_entry
      presence: optional
      description: >
        The log entries
- type: product_type
  product_type:
    name: log_entry
    label: Log Entry
    description: >
      Log Entry
    group: 'Widget: Log'
    fields:
    - name: title
      type: 
        type: prim_type
        prim_type: string
      presence: required
      description: >
        The entry title.
    - name: date
      type: 
        type: prim_type
        prim_type: string
      presence: required
      description: >
        The entry title.
    - name: author
      type:
        type: prim_type
        prim_type: string
      presence: required
      description: >
        The author.
    - name: summary
      type:
        type: prim_type
        prim_type: string
      presence: required
      description: >
        The summary.
    - name: text
      type:
        type: prim_type
        prim_type: string
      presence: required
      description: >
        The entry body.
- type: product_type
  product_type:
    name: log_widget_format
    label: Log Widget Format
    description: >
      Log Widget formatting options.
    group: 'Widget: Log'
    fields:
    - name: widget_format
      type: 
        type: custom_type
        custom_type: widget_format
      presence: optional
      description: >
        Standard widget formatting options.
    - name: entry_format
      type: 
        type: custom_type
        custom_type: log_entry_format
      presence: optional
      description: >
        The formatting options for the log entries.
    - name: entry_view_type
      type: 
        type: prim_type
        prim_type: string 
      presence: optional
      description: >
        The entry view type.
- type: product_type
  product_type:
    name: log_entry_format
    label: Log Entry Format
    description: >
      Log Entry formatting options.
    group: 'Widget: Log'
    fields:
    - name: title_format
      type: 
        type: custom_type
        custom_type: element_format
      presence: optional
      description: >
        The title format.
    - name: title_style
      type: 
        type: custom_type
        custom_type: text_style
      presence: optional
      description: >
        The title text style.
    - name: author_format
      type: 
        type: custom_type
        custom_type: element_format
      presence: optional
      description: >
        The author format.
    - name: author_style
      type: 
        type: custom_type
        custom_type: text_style
      presence: optional
      description: >
        The author text style.
    - name: summary_format
      type: 
        type: custom_type
        custom_type: element_format
      presence: optional
      description: >
        The summary format.
    - name: summary_style
      type: 
        type: custom_type
        custom_type: text_style
      presence: optional
      description: >
        The summary text style.
    - name: body_format
      type: 
        type: custom_type
        custom_type: element_format
      presence: optional
      description: >
        The body format.
    - name: body_style
      type: 
        type: custom_type
        custom_type: text_style
      presence: optional
      description: >
        The body text style.
    - name: entry_format
      type: 
        type: custom_type
        custom_type: element_format
      presence: optional
      description: >
        The entry format.
- type: product_type
  product_type:
    name: widget_mechanic
    label: Mechanic Widget
    description: >
      Mechanic Widget
    group: 'Widget: Mechanic'
    fields:
    - name: id
      type: 
        type: custom_type
        custom_type: widget_id
      presence: optional
      description: >
        The widget identifier.
    - name: format
      type:
        type: custom_type
        custom_type: mechanic_widget_format
      presence: optional
      description: The widget format.
    - name: category_reference
      type:
        type: custom_type
        custom_type: mechanic_category_reference
      presence: required
      description: >
        The mechanic category.
- type: product_type
  product_type:
    name: mechanic_widget_format
    label: Mechanic Widget Format
    description: >
      Mechanic Widget formatting options.
    group: 'Widget: Number'
    fields:
    - name: widget_format
      type: 
        type: custom_type
        custom_type: widget_format
      presence: optional
      description: >
        Standard widget formatting options.
    - name: header_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: Header text style.
    - name: mechanic_header_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: Mechanic header text style.
    - name: mechanic_summary_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: Mechanic summary text style.
    - name: view_type
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: Mechanic widget view type.
    - name: mechanic_format
      type:
        type: custom_type
        custom_type: element_format
      presence: optional
      description: Mechanic background format.
    - name: annotation_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: Mechanic background format.
    - name: option_element_format
      type:
        type: custom_type
        custom_type: element_format
      presence: optional
      description: Mechanic background format.
    - name: option_label_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: Mechanic background format.
- type: product_type
  product_type:
    name: widget_number
    label: Number Widget
    description: >
      Number Widget
    group: 'Widget: Number'
    fields:
    - name: id
      type: 
        type: custom_type
        custom_type: widget_id
      presence: optional
      description: >
        The widget identifier.
    - name: format
      type: 
        type: custom_type
        custom_type: number_widget_format
      presence: optional
      description: >
        The number widget formatting options.
    - name: value_variable_id
      type:
        type: custom_type
        custom_type: variable_id
      presence: required
      description: The number variable value id.
    - name: inside_label
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: The inside label.
    - name: book_reference
      type:
        type: custom_type
        custom_type: book_reference
      presence: optional
      description: A rulebook reference.
- type: product_type
  product_type:
    name: number_widget_format
    label: Number Widget Format
    description: >
      Number Widget formatting options.
    group: 'Widget: Number'
    fields:
    - name: widget_format
      type: 
        type: custom_type
        custom_type: widget_format
      presence: optional
      description: >
        Standard widget formatting options.
    - name: height
      type:
        type: custom_type
        custom_type: height
      presence: optional
      description: >
        Widget height.
    - name: inside_label
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: >
        Inside label.
    - name: inside_label_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: >
        Inside label format.
    - name: outside_label
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: >
        Outside label.
    - name: outside_label_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: >
        Outside label position.
    - name: value_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: >
        Outside label position.
    - name: description_style
      type:
        type: custom_type
        custom_type: text_style
      presence: optional
      description: >
        Description text style.
    - name: value_prefix
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: >
        Value prefix.
    - name: value_prefix_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: >
        Value prefix.
    - name: value_postfix
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: >
        Value postfix.
    - name: value_postfix_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: >
        Value prefix.
    - name: value_separator
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: >
        Base value separator.
    - name: value_separator_style
      type:
        type: custom_type
        custom_type: text_style
      presence: optional
      description: >
        Base value separator style.
    - name: number_format
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: >
        The number format.
- type: product_type
  product_type:
    name: widget_option
    label: Option Widget
    description: >
      Option Widget
    group: 'Widget: Option'
    fields:
    - name: id
      type: 
        type: custom_type
        custom_type: widget_id
      presence: optional
      description: >
        The widget identifier.
    - name: format
      type:
        type: custom_type
        custom_type: option_widget_format
      presence: required
      description: >
        The option widget formatting options.
    - name: view_type
      type: 
        type: custom_type
        custom_type: option_widget_view_type
      presence: optional
      description: >
        The option widget view type.
    - name: description
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: >
        The description.
    - name: value_type
      type:
        type: custom_type
        custom_type: value_type
      presence: optional
      description: >
        The value type.
    - name: value
      type:
        type: custom_type
        custom_type: variable
      presence: required
      description: >
        The value.
- type: product_type
  product_type:
    name: option_widget_format
    label: Option Widget Format
    description: >
      Option Widget formatting options.
    group: 'Widget: Option'
    fields:
    - name: widget_format
      type: 
        type: custom_type
        custom_type: widget_format
      presence: optional
      description: >
        Standard widget formatting options.
    - name: value_height
      type:
        type: custom_type
        custom_type: widget_height
      presence: optional
      description: >
        Value text style.
    - name: value_prefix_style
      type:
        type: custom_type
        custom_type: text_style
      presence: optional
      description: >
        Value prefix text style.
    - name: value_postfix_style
      type:
        type: custom_type
        custom_type: text_style
      presence: optional
      description: >
        Value postfix text style.
    - name: base_value_separator
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: >
        Base value separator.
    - name: base_value_separator_style
      type:
        type: custom_type
        custom_type: text_style
      presence: optional
      description: >
        Base value separator style.
    - name: base_value_separator_margins
      type:
        type: custom_type
        custom_type: spacing
      presence: optional
      description: >
        Base value separator margins.
    - name: base_value_style
      type:
        type: custom_type
        custom_type: text_style
      presence: optional
      description: >
        Base value style.
    - name: base_value_vertical_alignment
      type:
        type: custom_type
        custom_type: vertical_alignment
      presence: optional
      description: >
        Base value vertical alignment.
    - name: base_value_margins
      type:
        type: custom_type
        custom_type: spacing
      presence: optional
      description: >
        Base value margins.
- type: product_type
  product_type:
    name: widget_points
    label: Points Widget
    description: Points Widget
    group: 'Widget: Points'
    fields:
    - name: id
      type: 
        type: custom_type
        custom_type: widget_id
      presence: optional
      description: >
        The widget identifier.
    - name: format
      type:
        type: custom_type
        custom_type: points_widget_format
      presence: optional
      description: >
        The points widget formatting options.
    - name: limit_value_variable_id
      type:
        type: custom_type
        custom_type: variable_id
      presence: required
      description: Limit Value Variable Id
    - name: current_value_variable_id
      type:
        type: custom_type
        custom_type: variable_id
      presence: required
      description: Current Value Variable Id
    - name: label
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: Points widget label
- type: primitive_type
  primitive_type:
    name: points_bar_style
    label: Points Bar Style
    description: Points Bar Style
    group: 'Widget: Points'
    base_type:
      type: prim_type
      prim_type: string
    constraints:
    - points_bar_style_set
- type: primitive_type
  primitive_type: 
    name: points_above_bar_style
    label: Points Above Bar Style
    description: Points Above Bar Style
    group: 'Widget: Points'
    base_type:
      type: prim_type
      prim_type: string
    constraints:
    - points_above_bar_style_set
- type: product_type
  product_type:
    name: points_widget_format
    label: Points Widget Format
    description: >
      Points Widget formatting options.
    group: 'Widget: Points'
    fields:
    - name: widget_format
      type: 
        type: custom_type
        custom_type: widget_format
      presence: optional
      description: >
        Standard widget formatting options.
    - name: limit_text_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: Limit Text Format
    - name: current_text_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: Current Text Format
    - name: label_text_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: Label Text Format
    - name: info_format
      type:
        type: custom_type
        custom_type: points_widget_info_format
      presence: optional
      description: Label Text Format
    - name: bar_format
      type:
        type: custom_type
        custom_type: points_widget_bar_format
      presence: optional
      description: Bar Format
- type: product_type
  product_type:
    name: points_widget_info_format
    label: Points Widget Info Format
    description: >
      Points Widget formatting options.
    group: 'Widget: Points'
    fields:
    - name: format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: Points bar element format.
    - name: style
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: Points bar style
- type: product_type
  product_type:
    name: points_widget_bar_format
    label: Points Widget Bar Format
    description: >
      Points Widget formatting options.
    group: 'Widget: Points'
    fields:
    - name: element_format
      type:
        type: custom_type
        custom_type: element_format
      presence: optional
      description: Points bar element format.
    - name: bar_style
      type:
        type: custom_type
        custom_type: points_bar_style
      presence: optional
      description: Points bar style
    - name: above_bar_style
      type:
        type: custom_type
        custom_type: points_above_bar_style
      presence: optional
      description: Points above bar style
    - name: bar_height
      type: 
        type: prim_type
        prim_type: number
      presence: optional
      description: Bar Height Dp
    - name: limit_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: Limit Color Theme
    - name: current_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: Current Color Theme
    - name: counter_active_icon
      type:
        type: custom_type
        custom_type: icon_type
      presence: optional
      description: Current Color Theme
    - name: counter_active_text
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: Current Color Theme
    - name: counter_inactive_text
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: Current Color Theme
- type: product_type
  product_type:
    name: widget_quote
    label: Quote Widget
    description: >
      Quote Widget
    group: 'Widget: Quote'
    fields:
    - name: id
      type: 
        type: custom_type
        custom_type: widget_id
      presence: optional
      description: >
        The widget identifier.
    - name: format
      type:
        type: custom_type
        custom_type: quote_widget_format
      presence: optional
      description: >
        The quote widget formatting options.
    - name: quote_variable_id
      type:
        type: custom_type
        custom_type: variable_id
      presence: required
      description: >
        The quote.
    - name: source_variable_id
      type:
        type: custom_type
        custom_type: variable_id
      presence: optional
      description: >
        The quote source.
    - name: view_type
      type:
        type: custom_type
        custom_type: quote_widget_view_type_set
      presence: optional
      description: >
        The quote widget view type.
- type: product_type
  product_type:
    name: quote_widget_format
    label: Quote Widget Format
    description: >
      Quote Widget formatting options.
    group: 'Widget: Quote'
    fields:
    - name: widget_format
      type: 
        type: custom_type
        custom_type: widget_format
      presence: optional
      description: >
        Standard widget formatting options.
    - name: quote_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: >
        Quote text style.
    - name: source_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: >
        Source text style.
    - name: icon_format
      type:
        type: custom_type
        custom_type: icon_format
      presence: optional
      description: The icon format.
- type: product_type
  product_type:
    name: widget_roll
    label: Roll Widget
    description: Roll Widget
    group: 'Widget: Roll'
    fields:
    - name: id
      type: 
        type: custom_type
        custom_type: widget_id
      presence: optional
      description: >
        The widget identifier.
    - name: format
      type:
        type: custom_type
        custom_type: roll_widget_format
      presence: optional
      description: >
        The roll widget formatting options.
    - name: roll_group
      type:
        type: custom_type
        custom_type: dice_roll_group
      presence: required
      description: The roll summation id.
    - name: description
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: A description of the roll.
    - name: result_description
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: A description of the roll.
- type: product_type
  product_type:
    name: roll_widget_format
    label: Roll Widget Format
    description: >
      Roll Widget formatting options.
    group: 'Widget: Roll'
    fields:
    - name: widget_format
      type: 
        type: custom_type
        custom_type: widget_format
      presence: optional
      description: Standard widget formatting options.
    - name: view_type
      type: 
        type: prim_type
        prim_type: string
      presence: optional
      description: The view type.
    - name: button_format
      type: 
        type: custom_type
        custom_type: text_format
      presence: optional
      description: The button format.
    - name: button_roll_format
      type: 
        type: custom_type
        custom_type: text_format
      presence: optional
      description: The button format.
    - name: description_format
      type: 
        type: custom_type
        custom_type: text_format
      presence: optional
      description: The description format.
    - name: description_roll_format
      type: 
        type: custom_type
        custom_type: text_format
      presence: optional
      description: The description format.
    - name: roll_text_location
      type: 
        type: prim_type
        prim_type: string
      presence: optional
      description: The roll text location.
    - name: roll_text_format
      type: 
        type: custom_type
        custom_type: text_format
      presence: optional
      description: The roll text format.
- type: product_type
  product_type:
    name: widget_slider
    label: Slider Widget
    description: Slider Widget
    group: 'Widget: Slider'
    fields:
    - name: id
      type: 
        type: custom_type
        custom_type: widget_id
      presence: optional
      description: >
        The widget identifier.
    - name: format
      type:
        type: custom_type
        custom_type: slider_widget_format
      presence: optional
      description: >
        The roll widget formatting options.
    - name: groups
      type:
        type: custom_coll_type
        custom_coll_type: group
      presence: required
      description: >
        The groups.
- type: product_type
  product_type:
    name: slider_widget_format
    label: Slider Widget Format
    description: >
      Slider Widget formatting options.
    group: 'Widget: Slider'
    fields:
    - name: widget_format
      type: 
        type: custom_type
        custom_type: widget_format
      presence: optional
      description: Standard widget formatting options.
    - name: view_type
      type: 
        type: prim_type
        prim_type: string
      presence: optional
      description: The view type.
    - name: group_format
      type: 
        type: custom_type
        custom_type: element_format
      presence: optional
      description: The group format.
    - name: controls_format
      type: 
        type: custom_type
        custom_type: element_format
      presence: optional
      description: The controls format.
    - name: change_button_format
      type: 
        type: custom_type
        custom_type: text_format
      presence: optional
      description: The controls format.
    - name: counter_format
      type: 
        type: custom_type
        custom_type: slider_widget_counter_format
      presence: optional
      description: The controls format.
- type: product_type
  product_type:
    name: slider_widget_counter_format
    label: Slider Widget CounterFormat
    description: >
      Slider Widget formatting options.
    group: 'Widget: Slider'
    fields:
    - name: element_format
      type: 
        type: custom_type
        custom_type: element_format
      presence: optional
      description: The element format.
    - name: current_value_format
      type: 
        type: custom_type
        custom_type: text_format
      presence: optional
      description: The current value format.
    - name: separator_format
      type: 
        type: custom_type
        custom_type: text_format
      presence: optional
      description: The separator format.
    - name: limit_value_format
      type: 
        type: custom_type
        custom_type: text_format
      presence: optional
      description: The limit value format.
- type: product_type
  product_type: 
    name: widget_story
    label: Story Widget
    description: >
      Story Widget
    group: 'Widget: Story'
    fields:
    - name: id
      type: 
        type: custom_type
        custom_type: widget_id
      presence: optional
      description: >
        The widget identifier.
    - name: format
      type:
        type: custom_type
        custom_type: story_widget_format
      presence: optional
      description: >
        The story widget formatting options.
    - name: story
      type:
        type: custom_coll_type
        custom_coll_type: story_part
      presence: required
      description: >
        The story.
- type: sum_type
  sum_type:
    name: story_part
    label: Story Part
    description: >
      Story Part
    group: 'Widget: Story'
    cases:
    - type: story_part_span
      description: story part span
    - type: story_part_variable
      description: story part variable
    - type: story_part_icon
      description: story part icon
    - type: story_part_action
      description: story part action
- type: product_type
  product_type:
    name: story_part_format
    label: Story Part Format
    description: >
      Story Part Span
    group: 'Widget: Story'
    fields:
    - name: highlight_skew
      type: 
        type: prim_type
        prim_type: number
      presence: optional
      description: Higlight skew.
    - name: highlight_corner_radius
      type:
        type: prim_type
        prim_type: number
      presence: optional
      description: Highlight skew.
- type: product_type
  product_type:
    name: story_part_span
    label: Story Part Span
    description: >
      Story Part Span
    group: 'Widget: Story'
    fields:
    - name: format
      type: 
        type: custom_type
        custom_type: story_part_format
      presence: optional
      description: Part format.
    - name: text
      type: 
        type: prim_type
        prim_type: string
      presence: required
      description: >
        The text.
    - name: text_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: >
        The text format.
- type: product_type
  product_type:
    name: story_part_variable
    label: Story Part Variable
    description: >
      Story Part Variable
    group: 'Widget: Story'
    fields:
    - name: format
      type: 
        type: custom_type
        custom_type: story_part_format
      presence: optional
      description: Part format.
    - name: text_format
      type: 
        type: custom_type
        custom_type: text_format
      presence: optional
      description: >
        The text format.
    - name: variable_id
      type:
        type: custom_type
        custom_type: variable_id
      presence: required
      description: >
        The value variable.
    - name: numeric_editor_type
      type:
        type: custom_type
        custom_type: numeric_editor_type
      presence: optional
      description: >
        The numeric editor type (if is number value).
- type: product_type
  product_type:
    name: story_part_icon
    label: Story Part Icon
    description: >
      Story Part Icon
    group: 'Widget: Story'
    fields:
    - name: format
      type: 
        type: custom_type
        custom_type: story_part_format
      presence: optional
      description: Part format.
    - name: icon
      type: 
        type: custom_type
        custom_type: icon
      presence: required
      description: The icon
- type: product_type
  product_type: 
    name: story_part_action
    label: Story Part Action
    description: >
      Story Part Action
    group: 'Widget: Story'
    fields:
    - name: format
      type: 
        type: custom_type
        custom_type: story_part_format
      presence: optional
      description: Part format.
    - name: text
      type: 
        type: prim_type
        prim_type: string
      presence: required
      description: >
        The text.
    - name: action
      type: 
        type: custom_type
        custom_type: action
      presence: required
      description: >
        The action.
    - name: text_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: >
        The text style.
    - name: icon_format
      type:
        type: custom_type
        custom_type: icon_format
      presence: optional
      description: The icon format.
    - name: show_procedure_dialog
      type:
        type: prim_type
        prim_type: boolean
      presence: optional
      description: Show procedure dialog?
- type: product_type
  product_type:
    name: story_widget_format
    label: Story Widget Format
    description: >
      Story Widget formatting options.
    group: 'Widget: Story'
    fields:
    - name: widget_format
      type: 
        type: custom_type
        custom_type: widget_format
      presence: optional
      description: >
        Standard widget formatting options.
    - name: line_spacing
      type:
        type: prim_type
        prim_type: number
      presence: optional
      description: >
        Standard widget formatting options.
    - name: line_height
      type:
        type: prim_type
        prim_type: number
      presence: optional
      description: >
        Standard widget formatting options.
    - name: text_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: >
        Standard widget formatting options.
- type: product_type
  product_type:
    name: widget_table
    label: Table Widget
    description: >
      Table Widget
    group: 'Widget: Table'
    fields:
    - name: id
      type: 
        type: custom_type
        custom_type: widget_id
      presence: optional
      description: >
        The widget identifier.
    - name: format
      type:
        type: custom_type
        custom_type: table_widget_format
      presence: optional
      description: >
        The table widget formatting options.
    - name: columns
      type:
        type: custom_coll_type
        custom_coll_type: table_widget_column
      presence: required
      description: >
        The table columns.
    - name: rows
      type:
        type: custom_coll_type
        custom_coll_type: table_widget_row
      presence: optional
      description: >
        The table rows.
    - name: sort
      type:
        type: custom_type
        custom_type: table_sort
      presence: optional
      description: How the rows are sorted (if at all).
    - name: title_variable_id
      type:
        type: custom_type
        custom_type: variable_id
      presence: optional
      description: The title variable id.
    - name: primary_column_index
      type:
        type: prim_type
        prim_type: number
      presence: optional
      description: The primary column index.
    - name: book_reference
      type:
        type: custom_type
        custom_type: book_reference
      presence: optional
      description: A book reference.
- type: primitive_type
  primitive_type:
    name: table_sort_order
    label: Table Sort Order
    description: Table Sort ORder
    group: 'Widget: Table'
    base_type:
      type: prim_type
      prim_type: string
    constraints:
    - table_sort_order_set
- type: product_type
  product_type: 
    name: table_sort
    label: Table Sort
    description: >
      Table Widget formatting options.
    group: 'Widget: Table'
    fields:
    - name: column_index
      type: 
        type: prim_type
        prim_type: number
      presence: required
      description: Index of column to sort on.
    - name: sort_order
      type:
        type: custom_type
        custom_type: table_sort_order
      presence: required
      description: The sorting order.
- type:  product_type
  product_type:
    name: table_widget_format
    label: Table Widget Format
    description: >
      Table Widget formatting options.
    group: 'Widget: Table'
    fields:
    - name: widget_format
      type: 
        type: custom_type
        custom_type: widget_format
      presence: optional
      description: >
        Standard widget formatting options.
    - name: view_type
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: The title bar format.
    - name: header_format
      type:
        type: custom_type
        custom_type: table_widget_row_format
      presence: optional
      description: >
        Standard widget formatting options.
    - name: row_format
      type:
        type: custom_type
        custom_type: table_widget_row_format
      presence: optional
      description: >
        Standard widget formatting options.
    - name: title_bar_format
      type:
        type: custom_type
        custom_type: element_format
      presence: optional
      description: The title bar format.
    - name: title_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: The title bar format.
    - name: edit_button_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: The title bar format.
- type: sum_type
  sum_type: 
    name: table_widget_column
    label: Table Widget Column
    description: >
      A table column.
    group: 'Widget: Table'
    cases:
    - type: table_widget_boolean_column
    - type: table_widget_image_column
    - type: table_widget_number_column
    - type: table_widget_text_column
- type: primitive_type
  primitive_type:
    name: column_variable_prefix
    label: column_variable_prefix
    description: Prefix of all generated variables in this column.
    group: 'Widget: Table'
    base_type:
      type: prim_type
      prim_type: string
- type: product_type
  product_type:
    name: table_widget_boolean_column
    label: Boolean Column
    description: >
      Table column with boolean values.
    group: 'Widget: Table'
    fields:
    - name: name
      type: 
        type: prim_type
        prim_type: string
      presence: required
      description: >
        The column name.
    - name: format
      type:
        type: custom_type
        custom_type: table_widget_boolean_column_format
      presence: optional
      description: >
        The column format.
    - name: default_value
      type:
        type: custom_type
        custom_type: variable_boolean_value
      presence: required
      description: The column default value.
    - name: variable_prefix
      type:
        type: custom_type
        custom_type: column_variable_prefix
      presence: required
      description: Variable prefix
    - name: true_text
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: >
        The text to show for true values.
    - name: false_text
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: >
        The text to show for false values.
    - name: is_namespaced
      type:
        type: prim_type
        prim_type:  boolean
      presence: optional
      description: >
        Are cell in this column namespaced?
    - name: relation
      type:
        type: prim_type
        prim_type:  string
      presence: optional
      description: Variable relation
- type: product_type
  product_type:
    name: table_widget_boolean_column_format
    label: Boolean Column Format
    description: >
      Boolean table column format.
    group: 'Widget: Table'
    fields:
    - name: column_format
      type: 
        type: custom_type
        custom_type: column_format
      presence: optional
      description: >
        The column format.
    - name: true_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: >
        The true value text style.
    - name: false_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: >
        The false value text style.
    - name: true_text
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: >
        The true text.
    - name: false_text
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: >
        The false text.
    - name: show_true_icon
      type:
        type: prim_type
        prim_type: boolean
      presence: optional
      description: >
        Show icon next to true values?
    - name: show_false_icon
      type:
        type: prim_type
        prim_type: boolean
      presence: optional
      description: >
        Show icon next to false values?
- type: product_type
  product_type:
    name: table_widget_image_column
    label: Image Column
    description: >
      Table column with images.
    group: 'Widget: Table'
    fields:
    - name: name
      type: 
        type: prim_type
        prim_type: string
      presence: required
      description: >
        The column name.
    - name: format
      type:
        type: custom_type
        custom_type: table_widget_image_column_format
      presence: optional
      description: >
        The column format.
    - name: default_icon_type
      type:
        type: custom_type
        custom_type: icon_type
      presence: required
      description: The column default value.
    - name: variable_prefix
      type:
        type: custom_type
        custom_type: column_variable_prefix
      presence: optional
      description: Variable prefix
    - name: is_namespaced
      type:
        type: prim_type
        prim_type:  boolean
      presence: optional
      description: >
        Are cell in this column namespaced?
    - name: relation
      type:
        type: prim_type
        prim_type:  string
      presence: optional
      description: Variable relation
- type: product_type
  product_type:
    name: table_widget_image_column_format
    label: Image Column Format
    description: >
      Image table column format.
    group: 'Widget: Table'
    fields:
    - name: column_format
      type: 
        type: custom_type
        custom_type: column_format
      presence: optional
      description: The column format.
- type: product_type
  product_type:
    name: table_widget_number_column
    label: Number Column
    description: >
      Table column with number values.
    group: 'Widget: Table'
    fields:
    - name: name
      type: 
        type: prim_type
        prim_type: string
      presence: required
      description: >
        The column name.
    - name: format
      type:
        type: custom_type
        custom_type: table_widget_number_column_format 
      presence: optional
      description: >
        The column format.
    - name: default_value
      type:
        type: custom_type
        custom_type: variable_number_value 
      presence: required
      description: The column default value.
    - name: variable_prefix
      type:
        type: custom_type
        custom_type: column_variable_prefix 
      presence: required
      description: Variable prefix
    - name: is_namespaced
      type:
        type: prim_type
        prim_type: boolean
      presence: optional
      description: >
        Are cell in this column namespaced?
    - name: editor_type
      type:
        type: custom_type
        custom_type: numeric_editor_type 
      presence: optional
      description: >
        The editor type.
    - name: relation
      type:
        type: prim_type
        prim_type:  string
      presence: optional
      description: Variable relation
- type: product_type
  product_type:
    name: table_widget_number_column_format
    label: Number Column Format
    description: >
      Number column format.
    group: 'Widget: Table'
    fields:
    - name: column_format
      type: 
        type: custom_type
        custom_type: column_format
      presence: optional
      description: >
        The column format.
    - name: value_prefix
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: >
        The column value prefix.
    - name: number_format
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: >
        The number format.
- type: product_type
  product_type:
    name: table_widget_text_column
    label: Text Column
    description: >
      Table column with text values.
    group: 'Widget: Table'
    fields:
    - name: name
      type: 
        type: prim_type
        prim_type: string
      presence: required
      description: >
        The column name.
    - name: format
      type: 
        type: custom_type
        custom_type: table_widget_text_column_format
      presence: optional
      description: >
        The column format.
    - name: variable_prefix
      type: 
        type: custom_type
        custom_type: column_variable_prefix
      presence: required
      description: Variable prefix
    - name: default_value
      type:
        type: custom_type
        custom_type: variable_text_value
      presence: required
      description: The column default value.
    - name: column_variable_id
      type:
        type: custom_type
        custom_type: variable_id
      presence: optional
      description: The column variable id.
    - name: defines_namespace
      type:
        type: prim_type
        prim_type: boolean
      presence: optional
      description: >
        Do cells in this column define a namespace for the other cells in the row?
    - name: action
      type:
        type: custom_type
        custom_type: action
      presence: optional
      description: >
        Action for the cells.
    - name: relation
      type:
        type: prim_type
        prim_type:  string
      presence: optional
      description: Variable relation
    - name: tags
      type: 
        type: prim_coll_type
        prim_coll_type: string
      presence: optional
      description: >
        Tags that can be used to place the variable in a group.
    - name: is_namespaced
      type:
        type: prim_type
        prim_type: boolean
      presence: optional
      description: >
        Are cell in this column namespaced?
- type: product_type
  product_type:
    name: table_widget_text_column_format
    label: Text Column Format
    description: >
      Text column format.
    group: 'Widget: Table'
    fields:
    - name: column_format
      type: 
        type: custom_type
        custom_type: column_format
      presence: optional
      description: >
        The column format.
- type: product_type
  product_type:
    name: column_format
    label: Column Format
    description: >
      Column format.
    group: 'Widget: Table'
    type: product
    fields:
    - name: text_format
      type: 
        type: custom_type
        custom_type: text_format
      presence: optional
      description: >
        The column text style.
    - name: width
      type:
        type: prim_type
        prim_type: number
      presence: optional
      description: >
        The column width.
- type: product_type
  product_type:
    name: table_widget_row
    label: Text Widget Row
    description: >
      Table widget row.
    group: 'Widget: Table'
    fields:
    - name: format
      type: 
        type: custom_type
        custom_type: table_widget_row_format
      presence: optional
      description: >
        The row format.
    - name: cells
      type:
        type: custom_coll_type
        custom_coll_type: table_widget_cell
      presence: required
      description: >
        The row cells.
- type: product_type
  product_type:
    name: table_widget_row_format
    label: Text Widget Row Format
    description: >
      Table widget row format.
    group: 'Widget: Table'
    fields:
    - name: text_format
      type: 
        type: custom_type
        custom_type: text_format
      presence: optional
      description: >
        The row text style.
- type: sum_type
  sum_type:
    name: table_widget_cell
    label: Table Widget Cell
    description: >
      A table cell.
    group: 'Widget: Table'
    cases:
    - type: table_widget_boolean_cell
    - type: table_widget_image_cell
    - type: table_widget_number_cell
    - type: table_widget_text_cell
- type: product_type
  product_type: 
    name: table_widget_cell_format
    label: Table Widget Cell Format
    description: >
      Table widget cell format.
    group: 'Widget: Table'
    fields:
    - name: text_style
      type: 
        type: custom_type
        custom_type: text_style
      presence: optional
      description: >
        The cell text style
    - name: alignment
      type:
        type: custom_type
        custom_type: alignment
      presence: optional
      description: >
        The cell alignment
    - name: background_color_theme
      type:
        type: custom_type
        custom_type: color_theme
      presence: optional
      description: >
        The cell background color.
- type: product_type
  product_type:
    name: table_widget_boolean_cell
    label: Text Widget Boolean Cell
    description: >
      Table widget boolean cell.
    group: 'Widget: Table'
    fields:
    - name: variable_value
      type: 
        type: custom_type
        custom_type: variable_boolean_value
      presence: required
      description: >
        The cell variable value.
    - name: format
      type:
        type: custom_type
        custom_type: table_widget_boolean_cell_format
      presence: optional
      description: >
        The cell format.
- type: product_type
  product_type:
    name: table_widget_boolean_cell_format
    label: Text Widget Boolean Cell Format
    description: >
      Table widget boolean cell format.
    group: 'Widget: Table'
    fields:
    - name: alignment
      type: 
        type: custom_type
        custom_type: alignment
      presence: optional
      description: >
        The cell alignment
    - name: background
      type:
        type: custom_type
        custom_type: color_id
      presence: optional
      description: >
        The cell background color.
    - name: text_format
      type:
        type: custom_type
        custom_type: text_style
      presence: optional
      description: >
        The cell text style
    - name: true_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: >
        The cell text style when the value is true.
    - name: false_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: >
        The cell text style when the value is false.
    - name: show_true_icon
      type:
        type: prim_type
        prim_type: boolean
      presence: optional
      description: >
        If true shows an icon for true values.
    - name: show_false_icon
      type:
        type: prim_type
        prim_type: boolean
      presence: optional
      description: >
        If true shows an icon for false values.
- type: product_type
  product_type:
    name: table_widget_image_cell
    label: Text Widget Image Cell
    description: >
      Table widget image cell.
    group: 'Widget: Table'
    fields:
    - name: icon_type
      type: 
        type: custom_type
        custom_type: icon_type
      presence: optional
      description: Icon type
    - name: format
      type:
        type: custom_type
        custom_type: book_reference
      presence: optional
      description: Book reference.
- type: product_type
  product_type:
    name: table_widget_image_cell_format
    label: Text Widget Image Cell Format
    description: >
      Table widget image cell format.
    group: 'Widget: Table'
    fields:
    - name: text_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: Cell specific text format.
- type: product_type
  product_type:
    name: table_widget_number_cell
    label: Text Widget Number Cell
    description: >
      Table widget number cell.
    group: 'Widget: Table'
    fields:
    - name: variable_value
      type: 
        type: custom_type
        custom_type: variable_number_value
      presence: required
      description: >
        The cell variable value.
    - name: format
      type:
        type: custom_type
        custom_type: table_widget_number_cell_format
      presence: optional
      description: >
        The cell format.
    - name: editor_type
      type:
        type: custom_type
        custom_type: numeric_editor_type
      presence: optional
      description: >
        The cell value prefix.
- type: product_type
  product_type:
    name: table_widget_number_cell_format
    label: Text Widget Number Cell Format
    description: >
      Table widget number cell format.
    group: 'Widget: Table'
    type: product
    fields:
    - name: cell_format
      type: 
        type: custom_type
        custom_type: table_widget_cell_format
      presence: optional
      description: >
        The standard cell formatting options.
    - name: value_prefix
      type: 
        type: prim_type
        prim_type: string
      presence: optional
      description: >
        The cell value prefix.
    - name: number_format
      type: 
        type: prim_type
        prim_type: string
      presence: optional
      description: >
        The number format for the cell value.
- type: product_type
  product_type:
    name: table_widget_text_cell
    label: Text Widget Text Cell
    description: >
      Table widget text cell.
    group: 'Widget: Table'
    fields:
    - name: variable_value
      type: 
        type: custom_type
        custom_type: variable_text_value
      presence: required
      description: >
        The cell variable value.
    - name: format
      type:
        type: custom_type
        custom_type: table_widget_text_cell_format
      presence: optional
      description: >
        The cell format.
    - name: action
      type:
        type: custom_type
        custom_type: action
      presence: optional
      description: >
        Action for the cells.
    - name: action_name
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: >
        Action for the cells.
- type: product_type
  product_type:
    name: table_widget_text_cell_format
    label: Text Widget Text Cell Format
    description: >
      Table widget text cell format.
    group: 'Widget: Table'
    fields:
    - name: alignment
      type: 
        type: custom_type
        custom_type: alignment
      presence: optional
      description: >
        The cell alignment
    - name: background
      type:
        type: custom_type
        custom_type: color_id
      presence: optional
      description: >
        The cell background color.
    - name: text_style
      type:
        type: custom_type
        custom_type: text_style
      presence: optional
      description: >
        The cell text style
- type: product_type
  product_type:
    name: widget_tab
    label: Tab Widget
    description: >
      Tab Widget
    group: 'Widget: Tab'
    fields:
    - name: id
      type: 
        type: custom_type
        custom_type: widget_id
      presence: optional
      description: >
        The widget identifier.
    - name: format
      type:
        type: custom_type
        custom_type: tab_widget_format
      presence: optional
      description: >
        The tab widget formatting options.
    - name: tabs
      type:
        type: custom_coll_type
        custom_coll_type: tab_widget_tab
      presence: required
      description: The tabs.
- type: product_type
  product_type:
    name: tab_widget_tab
    label: Tab Widget Tab
    description: >
      Tab Widget Tab.
    group: 'Widget: Tab'
    fields:
    - name: name
      type: 
        type: prim_type
        prim_type: string
      presence: required
      description: >
        The tab name.
    - name: group_references
      type:
        type: custom_coll_type
        custom_coll_type: group_reference
      presence: required
      description: Group references.
- type: product_type
  product_type:
    name: tab_widget_format
    label: Tab Widget Format
    description: >
      Tab Widget formatting options.
    group: 'Widget: Tab'
    fields:
    - name: widget_format
      type: 
        type: custom_type
        custom_type: widget_format
      presence: optional
      description: >
        The standard widget formatting options.
    - name: view_type
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: The view type.
    - name: tab_bar_format
      type:
        type: custom_type
        custom_type: element_format
      presence: optional
      description: The view type.
    - name: content_format
      type:
        type: custom_type
        custom_type: element_format
      presence: optional
      description: The view type.
    - name: selected_tab_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: The view type.
    - name: unselected_tab_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: The view type.
    - name: tab_format
      type:
        type: custom_type
        custom_type: tab_format
      presence: optional
      description: The view type.
- type: product_type
  product_type:
    name: tab_format
    label: Tab Format
    description: >
      Tab formatting options.
    group: 'Widget: Tab'
    fields:
    - name: underline_thickness
      type: 
        type: prim_type
        prim_type: number
      presence: optional
      description: The underline thickness.
    - name: underline_color_theme
      type: 
        type: custom_type
        custom_type: color_theme
      presence: optional
      description: The underline color theme.
- type: product_type
  product_type:
    name: widget_text
    label: Text Widget
    description: >
      Text Widget
    group: 'Widget: Text'
    fields:
    - name: id
      type: 
        type: custom_type
        custom_type: widget_id
      presence: optional
      description: >
        The widget identifier.
    - name: format
      type:
        type: custom_type
        custom_type: text_widget_format
      presence: optional
      description: >
        The text widget formatting options.
    - name: value_variable_id
      type:
        type: custom_type
        custom_type: variable_id
      presence: required
      description: >
        The text value variable id.
    - name: book_reference
      type: 
        type: custom_type
        custom_type: book_reference
      presence: optional
      description: A rulebook reference.
    - name: primary_action_widget_id
      type: 
        type: custom_type
        custom_type: widget_id
      presence: optional
      description: Primary action widget id.
- type: product_type
  product_type:
    name: text_widget_format
    label: Text Widget Format
    description: >
      Text Widget formatting options.
    group: 'Widget: Text'
    fields:
    - name: widget_format
      type: 
        type: custom_type
        custom_type: widget_format
      presence: optional
      description: >
        The standard widget formatting options.
    - name: value_format
      type:
        type: custom_type
        custom_type: text_format
      presence: optional
      description: >
        Value format.
- type: product_type
  product_type:
    name: action
    label: Action
    description: >
      An action that can be performed on the sheet.
    group: Widget
    fields:
    - name: name
      type: 
        type: prim_type
        prim_type: string
      presence: required
      description: >
        The action name.
    - name: roll_group
      type: 
        type: custom_type
        custom_type: dice_roll_group
      presence: optional
      description: >
        The id of the summation that represents the roll.
    - name: auto_rolls
      type: 
        type: prim_type
        prim_type: number
      presence: optional
      description: >
        The id of the summation that represents the roll.
    - name: procedure_id
      type: 
        type: custom_type
        custom_type: procedure_id
      presence: optional
      description: >
        The procedure identifier.
- type: product_type
  product_type:
    name: widget_format
    label: Widget Format
    description: >
      Standard widget formatting options.
    group: Widget
    fields:
    - name: width
      type: 
        type: prim_type
        prim_type: number
      presence: optional
      description: >
        The widget width.
    - name: column
      type: 
        type: prim_type
        prim_type: number
      presence: optional
      description: >
        The widget column.
    - name: element_format
      type:
        type: custom_type
        custom_type: element_format
      presence: optional
      description: >
        The element format.
- type: product_type
  product_type:
    name: element_format
    label: Element Format
    description: General formatting options for some UI element.
    group: Style
    fields:
    - name: position
      type: 
        type: custom_type
        custom_type: position
      presence: optional
      description: >
        The text position.
    - name: height
      type:
        type: custom_type
        custom_type: height
      presence: optional
      description: >
        The text height.
    - name: width
      type:
        type: custom_type
        custom_type: width
      presence: optional
      description: >
        The width.
    - name: padding
      type:
        type: custom_type
        custom_type: spacing
      presence: optional
      description: >
        The text padding.
    - name: margins
      type:
        type: custom_type
        custom_type: spacing
      presence: optional
      description: >
        The text margins.
    - name: background_color_theme
      type:
        type: custom_type
        custom_type: color_theme
      presence: optional
      description: Background color theme.
    - name: corners
      type:
        type: custom_type
        custom_type: corners
      presence: optional
      description: Corners
    - name: border
      type:
        type: custom_type
        custom_type: border
      presence: optional
      description: Border
    - name: horizontal_alignment
      type:
        type: custom_type
        custom_type: horizontal_alignment
      presence: optional
      description: >
        The text horizontal alignment.
    - name: vertical_alignment
      type:
        type: custom_type
        custom_type: vertical_alignment
      presence: optional
      description: >
        The text vertical alignment.
- type: product_type
  product_type:
    name: text_format
    label: Text Format
    description: >
      Text style options.
    group: Style
    fields:
    - name: color_theme
      type: 
        type: custom_type
        custom_type: color_theme
      presence: optional
      description: >
        The text color them.
    - name: size
      type:
        type: custom_type
        custom_type: text_size
      presence: optional
      description: >
        The text size.
    - name: font
      type:
        type: custom_type
        custom_type: text_font
      presence: optional
      description: >
        The text font.
    - name: font_style
      type:
        type: custom_type
        custom_type: text_font_style
      presence: optional
      description: >
        The text font style.
    - name: is_underlined
      type:
        type: prim_type
        prim_type: boolean
      presence: optional
      description: >
        True if the text is underlined.
    - name: number_format
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: >
        True if the text is underlined.
    - name: roll_format
      type:
        type: prim_type
        prim_type: string
      presence: optional
      description: Roll text format.
    - name: icon_format
      type:
        type: custom_type
        custom_type: icon_format
      presence: optional
      description: Icon format.
    - name: element_format
      type:
        type: custom_type
        custom_type: element_format
      presence: optional
      description: >
        The element format.
- type: product_type
  product_type:
    name: corners
    label: Corners
    description: >
      The corners of an object.
    group: Style
    fields:
    - name: top_left_radius
      type: 
        type: prim_type
        prim_type: number
      presence: optional
      description:
        The top-left corner radius.
    - name: top_right_radius
      type:
        type: prim_type
        prim_type: number
      presence: optional
      description:
        The top-right corner radius.
    - name: bottom_right_radius
      type:
        type: prim_type
        prim_type: number
      presence: optional
      description:
        The bottom-right corner radius.
    - name: bottom_left_radius
      type:
        type: prim_type
        prim_type: number
      presence: optional
      description:
        The bottom-left corner radius.
- type: product_type
  product_type:
    name: border_edge
    label: Border Edge
    description: A border edge.
    group: Style
    fields:
    - name: color_theme
      type: 
        type: custom_type
        custom_type: color_theme
      presence: optional
      description: The color.
    - name: thickness
      type:
        type: prim_type
        prim_type: number
      presence: optional
      description: The thickness.
- type: product_type
  product_type:
    name: border
    label: Border
    description: A border.
    group: Style
    fields:
    - name: top
      type: 
        type: custom_type
        custom_type: border_edge
      presence: optional
      description: The top border.
    - name: right
      type: 
        type: custom_type
        custom_type: border_edge
      presence: optional
      description: The top border.
    - name: bottom
      type: 
        type: custom_type
        custom_type: border_edge
      presence: optional
      description: The top border.
    - name: left
      type: 
        type: custom_type
        custom_type: border_edge
      presence: optional
      description: The top border.
- type: product_type
  product_type:
    name: icon
    label: Icon
    description: Icon
    group: Style
    fields:
    - name: icon_type
      type: 
        type: custom_type
        custom_type: icon_type
      presence: optional
      description: The icon color.
    - name: element_format
      type:
        type: custom_type
        custom_type: element_format
      presence: optional
      description: The icon element format.
    - name: icon_format
      type:
        type: custom_type
        custom_type: icon_format
      presence: optional
      description: The icon format.
- type: product_type
  product_type:
    name: icon_format
    label: Icon Format
    description: Icon Format
    group: Style
    fields:
    - name: color_theme
      type: 
        type: custom_type
        custom_type: color_theme
      presence: optional
      description: The icon color.
    - name: size
      type:
        type: custom_type
        custom_type: icon_size
      presence: optional
      description: The icon width x height.
- type: product_type
  product_type:
    name: icon_size
    label: Icon Size
    description: The icon width x height.
    group: Style
    fields:
    - name: width
      type: 
        type: prim_type
        prim_type: number
      presence: required
      description: The width.
    - name: height
      type:
        type: prim_type
        prim_type: number
      presence: required
      description: The height.
- type: primitive_type
  primitive_type:
    name: icon_type
    label: Icon Type
    description: An icon type.
    group: Style
    base_type:
      type: prim_type
      prim_type: string
    constraints:
    - icon_set
- type: product_type
  product_type:
    name: spacing
    label: Spacing
    description: >
      The spacing around an element
    group: Style
    fields:
    - name: left
      type:
        type: prim_type
        prim_type: number
      presence: optional
      description:
        The space on the left.
    - name: top
      type:
        type: prim_type
        prim_type: number
      presence: optional
      description:
        The space on the top.
    - name: right
      type:
        type: prim_type
        prim_type: number
      presence: optional
      description:
        The space on the right.
    - name: bottom
      type:
        type: prim_type
        prim_type: number
      presence: optional
      description:
        The space on the bottom.
- type: primitive_type
  primitive_type:
    name: numeric_editor_type
    label: Numeric Editor Type
    description: >
      Numeric Editor Type
    group: Style
    base_type:
      type: prim_type
      prim_type: string
    constraints:
    - numeric_editor_type_set
- type: primitive_type
  primitive_type:
    name: horizontal_alignment
    label: Horizontal Alignment
    description: >
      The horizontal alignment options.
    group: Style
    base_type:
      type: prim_type
      prim_type: string
    constraints:
    - horizontal_alignment_set
- type: primitive_type
  primitive_type:
    name: vertical_alignment
    label: Vertical Alignment
    description: >
      The vertical alignment options.
    group: Style
    base_type:
      type: prim_type
      prim_type: string
    constraints:
    - vertical_alignment_set
- type: primitive_type
  primitive_type:
    name: text_font
    label: Text Font
    description: >
      Font.
    group: Style
    base_type:
      type: prim_type
      prim_type: string
- type: primitive_type
  primitive_type:
    name: text_font_style
    label: Text Font Style
    description: >
      Font.
    group: Style
    base_type:
      type: prim_type
      prim_type: string
    constraints:
    - font_style_set
- type: primitive_type
  primitive_type:
    name: height
    label: Height
    description: >
      The widget height options.
    group: Style
    base_type:
      type: prim_type
      prim_type: number
- type: sum_type
  sum_type:
    name: width
    label: Width
    description: Width
    group: 'Style'
    cases:
    - type: number_literal
      description: A literal number.
    - type: width_wrap
      description: Width wrap
    - type: width_fill
      description: Width fill
    - type: width_justify
      description: Width justify
- type: symbol_type
  symbol_type:
    name: width_wrap
    label: Width Wrap
    description: Wrap
    group: 'Style: Width'
    symbol: 'wrap'
- type: symbol_type
  symbol_type:
    name: width_justify
    label: Width Justify
    description: Justify
    group: 'Style: Width'
    symbol: 'justify'
- type: symbol_type
  symbol_type:
    name: width_fill
    label: Width Fill
    description: Justify
    group: 'Style: Width'
    symbol: 'fill'
- type: primitive_type
  primitive_type:
    name: position
    label: Position
    description: >
      The widget position options.
    group: Style
    base_type:
      type: prim_type
      prim_type: string
    constraints:
    - position_set
- type: primitive_type
  primitive_type:
    name: button_icon_name
    label: Button Icon Name
    description: >
      The button icon options.
    group: Style
    base_type:
      type: prim_type
      prim_type: string
    constraints:
    - button_icon_name_set
- type: primitive_type
  primitive_type:
    name: text_size
    label: Text Size
    description: >
      Text size.
    group: Style
    base_type: 
      type: prim_type
      prim_type: number
- type: primitive_type
  primitive_type:
    name: button_view_type
    label: Button View Type
    description: >
      The type of button view.
    group: Style
    base_type:
      type: prim_type
      prim_type: string
    constraints:
    - button_view_type_set
- type: primitive_type
  primitive_type:
    name: option_widget_view_type
    label: Option Widget View Type
    description: >
      The type of option widget view.
    group: Style
    base_type:
      type: prim_type
      prim_type: string
    constraints:
    - option_widget_view_type_set
- type: primitive_type
  primitive_type:
    name: quote_widget_view_type
    label: Quote Widget View Type
    description: >
      The type of quote widget view.
    group: Style
    base_type:
      type: prim_type
      prim_type: string
    constraints:
    - quote_widget_view_type_set
constraints:
- type: constraint_string_one_of
  constraint_string_one_of:
    name: sheet_theme_type
    label: Sheet Theme Type
    description: Sheet Theme Type
    set:
    - value: dark
    - value: light
    - value: custom
- type: constraint_string_one_of
  constraint_string_one_of:
    name: alignment_set
    label: Alignment
    description: Alignment
    set:
    - value: left
    - value: center
    - value: right
- type: constraint_string_one_of
  constraint_string_one_of:
    name: vertical_alignment_set
    label: Vertical Alignment
    description: Vertical Alignment
    set:
    - value: top
    - value: middle
    - value: bottom
- type: constraint_string_one_of
  constraint_string_one_of:
    name: font_style_set
    label: Font Style
    description: Font Style
    set:
    - value: regular
    - value: italic
    - value: bold
    - value: bold_italic
    - value: light
- type: constraint_string_one_of
  constraint_string_one_of:
    name: position_set
    label: Position
    description: Position
    set:
    - value: left
    - value: top
    - value: right
    - value: bottom
- type: constraint_string_one_of
  constraint_string_one_of:
    name: option_widget_view_type_set
    label: Option Widget View Type
    description: Option Widget View Type
    set:
    - value: no_arrows
    - value: arrows_vertical
    - value: arrows_horizontal
    - value: expanded_slashes
- type: constraint_string_one_of
  constraint_string_one_of:
    name: quote_widget_view_type_set
    label: Quote Widget View Type
    description: Quote Widget View Type
    set:
    - value: source
    - value: icon_over_source
    - value: no_icon
- type: constraint_string_one_of
  constraint_string_one_of:
    name: icon_set
    label: Icon
    description: Icon
    set:
    - value: sword
    - value: shield
- type: constraint_string_one_of
  constraint_string_one_of:
    name: numeric_editor_type_set
    label: Numeric Editor Type
    description: Numeric Editor Type
    set:
    - value: calculator
    - value: adder
    - value: simple
- type: constraint_string_one_of
  constraint_string_one_of:
    name: points_bar_style_set
    label: Points Bar Style
    description: Points Bar Style
    set:
    - value: simple
    - value: opposite_labels
- type: constraint_string_one_of
  constraint_string_one_of:
    name: points_above_bar_style_set
    label: Points Above Bar Style
    description: Points Above Bar Style
    set:
    - value: opposite_left_label
